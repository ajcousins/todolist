(()=>{"use strict";const e=function(e,t,i){let n,d;if(e||t)n=e,d=e;else{n=document.querySelector("#content");let e=document.getElementById("newTaskButton");n.removeChild(e),d=document.createElement("li"),n.appendChild(d)}d.setAttribute("class","addNewItemExpand");let l=document.createElement("input");l.setAttribute("class","main"),l.setAttribute("type","text"),d.appendChild(l);let c=document.createElement("label");c.textContent="Due Date",d.appendChild(c);let r=new Date;r=r.toISOString().slice(0,10);let s=document.createElement("input");s.setAttribute("class","date"),s.setAttribute("type","date"),s.setAttribute("placeholder","Date"),d.appendChild(s);let o=document.createElement("label");o.textContent="Priority",d.appendChild(o);let a=document.createElement("select");a.setAttribute("class","priority"),d.appendChild(a);let u=document.createElement("option");u.setAttribute("value","High"),u.textContent="High",t&&"High"===t.priority&&u.setAttribute("selected","selected"),a.appendChild(u);let p=document.createElement("option");p.setAttribute("value","Medium"),p.textContent="Medium",t&&"Medium"===t.priority&&p.setAttribute("selected","selected"),a.appendChild(p);let m=document.createElement("option");m.setAttribute("value","Low"),m.textContent="Low",t&&"Low"===t.priority&&m.setAttribute("selected","selected"),a.appendChild(m);let L=document.createElement("br");d.appendChild(L);let E=document.createElement("textarea");E.setAttribute("class","notes"),E.setAttribute("rows","4"),E.setAttribute("cols","50"),E.setAttribute("placeholder","Notes"),d.appendChild(E);let h=document.createElement("div");h.setAttribute("class","addButton"),d.appendChild(h),t?(l.setAttribute("id",`titleInputEdit-${i}`),l.setAttribute("value",`${t.title}`),s.setAttribute("id",`dateDueEdit-${i}`),s.setAttribute("value",`${t.dateDue}`),a.setAttribute("id",`priorityEdit-${i}`),E.setAttribute("id",`notesEdit-${i}`),E.innerHTML=`${t.notes}`,h.setAttribute("id",`editSubmit-${i}`),h.textContent="Update",document.getElementById(`titleInputEdit-${i}`).focus()):(l.setAttribute("id","titleInput"),s.setAttribute("id","dateDue"),s.setAttribute("value",`${r}`),a.setAttribute("id","priority"),E.setAttribute("id","notes"),h.setAttribute("id","submit"),h.textContent="Add",document.getElementById("titleInput").focus())},t=function(e){const t=e.projectsList,i=e.activeProjectIndex,n=document.querySelector(".projectWrapper");n.innerHTML="";for(let e=0;e<t.length;e++){t[e].projectTitle;let d=document.createElement("div");d.setAttribute("class","projectButton"),d.textContent=t[e].projectTitle,i===e&&d.classList.add("pressed"),n.appendChild(d),console.log()}},i=function(e,t,i){const n=e,d=t.dateDue,l=`${d[8]}${d[9]}/${d[5]}${d[6]}/${d[2]}${d[3]}`;let c=document.createElement("div");c.classList.add("listLower");let r=document.createElement("div");r.classList.add("dueDate"),r.innerHTML=`<em>Date: </em>${l}`;let s=document.createElement("div");s.classList.add("priority"),s.innerHTML=`<em>Priority: </em>${t.priority}`,c.appendChild(r),c.appendChild(s),n.appendChild(c);let o=document.createElement("div");o.classList.add("listLower");let a=document.createElement("div");a.classList.add("notes"),a.innerHTML=`${t.notes}`,o.appendChild(a),n.appendChild(o);let u=document.createElement("div");u.classList.add("listLower");let p=document.createElement("div");p.classList.add("editButton"),p.id=`edit-${i}`,p.textContent="Edit";let m=document.createElement("div");m.classList.add("deleteButton"),m.id=`del-${i}`,m.textContent="Delete",u.appendChild(p),u.appendChild(m),n.appendChild(u)},n={projectsList:[],activeProjectIndex:0,add:function(e){this.projectsList.push(e)},activeProjectName:function(){return this.projectsList[this.activeProjectIndex].projectTitle}};class d{constructor(e){this.projectTitle=e,this.itemList=[]}add(e){this.itemList.push(e)}delete(e){this.itemList.splice(e,1)}update(e,t){console.log("update"),this.itemList.splice(t,1,e)}}class l{constructor(e,t,i,n,d){this.title=e,this.notes=t,this.dateDue=i,this.priority=n,this.projectName=d,this.done=!1}}const c=new d("Default"),r=new d("Music Project"),s=new l("Heat pan","First thing in the morning","2021-03-09","High","Default"),o=new l("Make pancakes","...","2021-03-09","Low","Default"),a=new l("Eat pancakes","...","2021-03-09","Low","Default"),u=new l("Play concert","Before bed.","2021-03-19","High","Music Project"),p=new l("Smash guitar","...","2021-03-19","High","Music Project");n.add(c),n.add(r),c.add(s),c.add(o),c.add(a),r.add(u),r.add(p);const m=function(){function c(){let e=document.querySelectorAll(".projectButton");e=Array.from(e);for(let i=0;i<e.length;i++)e[i].addEventListener("click",(()=>{n.activeProjectIndex=i,r(i),t(n),c(),u(),o()}))}function r(e){document.querySelector(".projectLabel").innerHTML=e?n.projectsList[e].projectTitle:"To Do List"}function s(e){let t,i,d,c,r=n.activeProjectName();if("click"===e.type||"Enter"===e.key){if(t=document.querySelector("#titleInput").value,i=document.querySelector("#notes").value,d=document.querySelector("#dateDue").value,c=document.querySelector("#priority").value,!t)return}else t=e;let s=new l(t,i,d,c,r),o=n.activeProjectIndex;n.projectsList[o].add(s),document.querySelector("#titleInput").value="",u()}function o(){let e=document.querySelector(".projectWrapper"),t=document.createElement("div");t.id="newProjectButton",t.classList.add("projectNewButton"),t.textContent="Add New Project",t.addEventListener("click",(()=>{e.removeChild(t);let i=function(e){let t=document.createElement("div");t.classList.add("projectNewButtonPressed"),e.appendChild(t);let i=document.createElement("input");i.setAttribute("class","projectInput"),i.setAttribute("type","text"),i.setAttribute("id","newProject"),t.appendChild(i),i.focus();let n=document.createElement("div");return n.setAttribute("class","addButton"),n.setAttribute("id","projectSubmit"),n.textContent="Add",e.appendChild(n),{input:i,buttonAdd:n}}(e);i.input.addEventListener("keypress",(function(e){if("Enter"===e.key){if(!i.input.value)return;a(i.input.value)}})),i.buttonAdd.addEventListener("click",(()=>{i.input.value&&a(i.input.value)}))})),e.appendChild(t)}function a(e){n.activeProjectIndex=n.projectsList.length;let i=new d(e);n.add(i),r(n.activeProjectIndex),t(n),c(),u(),o()}function u(){let t=document.querySelector("#content");t.innerHTML="";let d=n.activeProjectIndex;for(let e=0;e<n.projectsList[d].itemList.length;e++){let l=document.createElement("li");l.classList.add("listItem");let c=document.createElement("div");c.classList.add("listUpper"),c.textContent=n.projectsList[d].itemList[e].title,l.appendChild(c);let r=document.createElement("div");r.classList.add("pressZone");let s=document.createElement("div");s.classList.add("itemTriangle"),r.appendChild(s),c.appendChild(r);let o=document.createElement("div");o.classList.add("listLowerSecton"),l.appendChild(o),r.addEventListener("click",(()=>{if(s.classList.contains("flipped"))s.classList.remove("flipped"),o.innerHTML="";else{s.classList.add("flipped"),i(o,n.projectsList[d].itemList[e],e);let t=l.querySelector(".deleteButton");t.addEventListener("click",(()=>{let e=t.id.split("-");n.projectsList[d].delete(e[1]),u()}));let c=l.querySelector(".editButton");c.addEventListener("click",(()=>{c.id.split("-"),L(l,n.projectsList[d].itemList[e],e)}))}})),t.appendChild(l)}!function(){let t=document.querySelector("#content"),i=document.createElement("li");i.id="newTaskButton",i.classList.add("addNewItem"),i.textContent="Add new task",t.appendChild(i),i.addEventListener("click",(()=>{e(),submit.addEventListener("click",s),titleInput.addEventListener("keypress",(function(e){"Enter"===e.key&&s(e)}))}))}()}return t(n),c(),u(),o(),{addToList:s,renderTaskList:u}}();function L(t,i,n){t.innerHTML="",e(t,i,n);let d=document.querySelector(`#editSubmit-${n}`),l=document.getElementById(`titleInputEdit-${n}`);d.addEventListener("click",(e=>{E(e,n)})),l.addEventListener("keypress",(function(e){"Enter"===e.key&&E(e,n)}))}function E(e,t){let i,d,c,r,s=n.activeProjectName();if(("click"===e.type||"Enter"===e.key)&&(i=document.querySelector(`#titleInputEdit-${t}`).value,d=document.querySelector(`#notesEdit-${t}`).value,c=document.querySelector(`#dateDueEdit-${t}`).value,r=document.querySelector(`#priorityEdit-${t}`).value,!i))return;let o=new l(i,d,c,r,s);console.log(o);let a=n.activeProjectIndex;n.projectsList[a].update(o,t),m.renderTaskList()}})();